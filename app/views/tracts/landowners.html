<section class="content-header">
  <h1>
    Land Owner: &nbsp;<b>{{landownerRef.name}}</b>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#/"><i class="fa fa-dashboard"></i> Home</a></li>
    <li><a href="#/tracts/{{tract.$id}}" ><i class="fa fa-square-o"></i>Tract {{tract.tract}}</a></li>
        <li><i class="fa fa-user"></i>&nbsp;Land Owner</li>
    <li class="active">{{landownerRef.name}}</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="nav-tabs-custom">
      <div class="box-tools pull-right" style="margin: 5px 10px" >
        <a href="#/tracts/{{tract.$id}}" class="btn btn-primary btn-md" role="button"><span class="fa fa-arrow-left" ></span >&nbsp; Tract {{tract.tract}} </a>
      </div> <!--- div style="float:right;" --->
      <ul class="nav nav-tabs">
        <li class="active"><a>Details</a></li>

    </ul>


      <br>

      <div class="container-fluid">


      <uib-accordion close-others="oneAtATime" class="uib">
            <!-- ------------------------- -->
            <!-- ----  OWNER DETAILS   ------- -->
            <!-- ------------------------- -->

            <uib-accordion-group panel-class="box box-default" is-open="status.isFirstOpen">
              <uib-accordion-heading class="accordion-heading">
                  <span class = "accordion-header" ng-click="toggleOwnerDetailsAccordion()">LAND OWNER DETAILS &nbsp;</span>
                <div class="btn-group pull-right">
                  <button class="btn btn-default btn-xs" ng-click="toggleOwnerDetailsAccordion()"><i class="fa fa-{{OwnerDetailsExpanded? 'plus':'minus'}}"></i> <span class = "hidden-xs" style="font-size: small">&nbsp;{{OwnerDetailsExpanded? 'View':'Hide'}}</span></button>
                </div>
              </uib-accordion-heading>


            <div class="row">
              <div class="form-group col-lg-2 col-md-2 col-sm-2">
                <label>OWNER ID
                    <span class="label label-danger" ng-show="local.duplicateweld"><i class="fa fa-exclamation-circle"></i> Duplicate No. </span></label>
                <input ng-model="ownerRef.ownerid" type="text" class="form-control"/>
              </div>

              <div class="form-group col-lg-3 col-md-3 col-sm-6">
                <label>OWNER NAME</label>
                <select class="form-control" ng-model = "ownerdata.ownername" >
                  <option ng-repeat="option in landowners" value="{{option.$id}}">{{option.name}}</option>

                </select>
              </div>

            <div class="form-group col-lg-2 col-md-3 col-sm-3">
            <label>INTEREST %</label>
            <div class="input-group">
            <span class="input-group-addon">
            <span class="fa fa-percent"></span>
            </span>
            <input type="number" step="0.001" ng-model="ownerdata.ownerinterest" class="form-control" />
            </div>
            </div>

              <div class="form-group col-lg-4 col-md-6 col-sm-6">
                <label>STREET ADDRESS</label>
                <input ng-model="landownerRef.address" type="text" placeholder='' readonly="true" class="form-control"  />
              </div>

              <div class="form-group col-lg-2 col-md-3 col-sm-3">
                <label>CITY</label>
                <input ng-model="landownerRef.city" type="text" placeholder='' readonly="true" class="form-control"  />
              </div>

              <div class="form-group col-lg-2 col-md-2 col-sm-3">
                <label>STATE</label>
                <input ng-model="landownerRef.state" type="text" placeholder=''readonly="true" class="form-control"  />
              </div>
              <div class="form-group col-md-2 col-sm-3">
                <label>ZIP</label>
                <input ng-model="landownerRef.zip" type="text" placeholder='' readonly="true" class="form-control"  />
              </div>

              <div class="form-group col-md-2 col-sm-3">
                <label>PHONE 1</label>
                <input ng-model="landownerRef.phone1" type="text" placeholder=''readonly="true" class="form-control"  />
              </div>

              <div class="form-group col-md-2 col-sm-3">
                <label>PHONE 2</label>
                <input ng-model="landownerRef.phone2" type="text" placeholder='' readonly="true" class="form-control"  />
              </div>

              <div class="form-group col-md-4 col-sm-6">
                <label>EMAIL</label>
                <input ng-model="landownerRef.email" type="text" placeholder='' readonly="true" class="form-control"  />
              </div>

              <div class="form-group col-md-2 col-sm-3">
                <label>TAX ID</label>
                <input ng-model="landownerRef.taxid" type="text" placeholder='' readonly="true" class="form-control"  />
              </div>

            </div>

        </uib-accordion-group>

        <uib-accordion close-others="oneAtATime" >
          <!-- ------------------------- -->
          <!-- ----  PAYMENT RECORDS  ------- -->
          <!-- ------------------------- -->

          <uib-accordion-group panel-class="box box-default"is-open="status.isFirstDisabled"  >
            <uib-accordion-heading>
                <span class = "accordion-header" ng-click="togglePaymentsAccordion()">PAYMENT RECORDS &nbsp;</span><span class="badge" style="background-color:#777">{{totalPayments}}</span>

              <div class="btn-group pull-right">
                <button class="btn btn-default btn-xs" ng-click="togglePaymentsAccordion()"><i class="fa fa-{{PaymentsExpanded? 'plus':'minus'}}"></i> <span class = "hidden-xs" style="font-size: small">&nbsp;{{PaymentsExpanded? 'View':'Hide'}}</span></button>
              </div>
            </uib-accordion-heading>



          <table class="table table-hover" style="overflow-x:scroll; ">
            <thead>
              <tr class="panel-heading" >
                <th><a href="" ng-click="orderBy('checkdate', $event)" style="color:black;"><b>DATE</b></a>
                <span ng-show="orderByField == 'checkdate'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>

                <th><a href="" ng-click="orderBy('checkno', $event)" style="color:black;"><b>CHECK<span class="xs-hidden"> #</span></b></a>
                <span ng-show="orderByField == 'checkno'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>


                <th><a href="" ng-click="orderBy('rowcost', $event)" style="color:black;"><b>ROW</b></a>
                <span ng-show="orderByField == 'rowcost'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>
                <th><a href="" ng-click="orderBy('temporaryworkspacecost', $event)" style="color:black;"><b>WORKSPACE</b></a>
                <span ng-show="orderByField == 'temporaryworkspacecost'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>
                <th><a href="" ng-click="orderBy('additionalworkspacecost', $event)" style="color:black;"><b>ATWS</b></a>
                <span ng-show="orderByField == 'additionalworkspacecost'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>
                <th><a href="" ng-click="orderBy('accesscost', $event)" style="color:black;"><b>ACCESS</b></a>
                <span ng-show="orderByField == 'accesscost'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>
                <th><a href="" ng-click="orderBy('damagescost', $event)" style="color:black;"><b>DAMAGES</b></a>
                <span ng-show="orderByField == 'damagescost'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>
                <th><a href="" ng-click="orderBy('othercost', $event)" style="color:black;"><b>OTHER</b></a>
                <span ng-show="orderByField == 'othercost'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>
                <th><a href="" ng-click="orderBy('amount', $event)" style="color:black;"><b>TOTAL</b></a>
                <span ng-show="orderByField == 'amount'"><small><span ng-show="!reverseSort" class="fa fa-sort-asc" style="color:black"></span><span ng-show="reverseSort" style="color:black" class="fa fa-sort-desc"></span></small></span></th>



                </tr>

            </thead>
            <tbody>
              <tr ng-repeat="record in payments| orderBy:orderByField:reverseSort" >
                <td style="min-width:100px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.checkdate}}</b></a></td>
                <td style="min-width:100px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.checkno}}</b></a></td>
                <td style="min-width:120px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.rowcost|currency}}</b></a></td>
                <td style="min-width:120px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.temporaryworkspacecost|currency}}</b></a></td>
                <td style="min-width:120px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.additionalworkspacecost|currency}}</b></a></td>
                <td style="min-width:120px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.accesscost|currency}}</b></a></td>
                <td style="min-width:120px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.damagescost|currency}}</b></a></td>
                <td style="min-width:120px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b>{{record.othercost|currency}}</b></a></td>
                <td style="min-width:120px;" ><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}" ><b style="color:black">{{record.rowcost+record.temporaryworkspacecost+record.additionalworkspacecost+record.accesscost+record.damagescost+record.othercost|currency}}</b></a></td>
                <td style="min-width:25px"><a href="#/tracts/{{tract.$id}}/landowners/{{owner.$id}}/payments/{{record.$id}}"><span  class="fa fa-edit"></span></a></td>
              </tr>




            </tbody>
          </table>

          <table class="table table-hover" style="overflow-x:scroll">

  <thead>
<tr class="panel-heading">
</tr>
  </thead>


            <tbody>
              <tr style="background-color:#ffffcc">
                <td style="min-width:100px"><b>TOTAL</b></td>
                <td style="min-width:100px"><b style="color:black">{{numberOfPayments}}</b></td>
                <td style="min-width:120px"><b style="color:black">{{totalRowCost|currency}}</b></a></td>
                <td style="min-width:120px"><b style="color:black">{{totalTemporaryWorkspace|currency}}</b></a></td>
                <td style="min-width:120px"><b style="color:black">{{totalAdditionalWorkspace|currency}}</b></a></td>
                <td style="min-width:120px"><b style="color:black">{{totalAccess|currency}}</b></a></td>
                <td style="min-width:120px"><b style="color:black">{{totalDamages|currency}}</b></a></td>
                <td style="min-width:120px"><b style="color:black">{{totalOther|currency}}</b></a></td>
                <td style="min-width:120px"><b style="color:black">{{grandTotal|currency}}</b></a></td>
                <td style="min-width:25px"></td>


              </tr>
            </tbody>
          </table>


          <button type="button" id="addNewPayment" class="btn btn-default btn-sm"  ng-click="addNewPayment()"><span class="glyphicon glyphicon-plus" style="color:green"></span > Add Payment</button>

        </uib-accordion-group>

        </uib-accordion>

      <div class="box-tools pull-right" style="margin:10px 0px 10px 0px">
      <button type="button" id="InactivateOwner" class="btn btn-{{inactiveFilter ? 'success':'danger'}} btn-md"  ng-click="toggleInactive()"><span class="fa fa-{{inactiveFilter ? 'check':'ban'}}" style="color:white"></span >&nbsp; {{inactiveFilter ? 'Activate':'Inactivate'}}</button>
    </div>
</div>

</section>
